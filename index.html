<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/typescript.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles/button.css" />
    <link rel="stylesheet" href="styles/dialog.css" />
    <link rel="stylesheet" href="styles/form.css" />
    <title>Vite + TS</title>
  </head>
  <body>
    <header>
      <h1>CalendÃ¡rio de tarefas</h1>
    </header>
    <main>
      <nav>
        <type-calendar data-lang="pt-br"></type-calendar>

        <hr />

        <!-- Lista de tarefas -->

        <section></section>

        <template id="task-item">
          <!-- <h3></h3>
          <p></p>
          <time></time> -->
        </template>

        <!-- Fim da lista de tarefas -->
      </nav>
      <aside>
        <fieldset>
          <legend>Tarefa</legend>

          <form>
            <section>
              <label for="subject">Assunto</label>
              <input
                id="subject"
                type="text"
                autofocus
                name="subject"
                required
              />
              <output>ObrigatÃ³rio</output>
            </section>
            <section>
              <label for="person">Designado</label>
              <input
                id="person"
                type="person"
                name="person"
                autocomplete="given-name"
                required
              />
              <output>ObrigatÃ³rio</output>
            </section>
            <section>
              <label for="date">Data</label>
              <input
                id="date"
                type="date"
                name="date"
                onclick="this.showPicker()"
                required
              />
              <output>ObrigatÃ³rio</output>
            </section>
            <section>
              <label>
                <input type="checkbox" name="terms" required />
                Li e concordo com os termos
              </label>
            </section>

            <button type="submit">Enviar</button>
          </form>
        </fieldset>

        <section>
          <button onclick="document.querySelector('dialog').showModal()">
            Abrir instruÃ§Ãµes
          </button>
        </section>
      </aside>
    </main>
    <footer>
      <p>&copy; 2021</p>
    </footer>

    <dialog>
      <header>
        <h2>InstruÃ§Ãµes</h2>
        <button
          class="close"
          onclick="document.querySelector('dialog').close('false')"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="24px"
            viewBox="0 0 24 24"
            width="24px"
            fill="#000000"
          >
            <path d="M0 0h24v24H0V0z" fill="none" />
            <path
              d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"
            />
          </svg>
        </button>
      </header>
      <section>
        <h3>Objetivo</h3>
        Salve os dados do formulÃ¡rio para que seja possÃ­vel navegar entre os
        dias usando o calendÃ¡rio, permitindo listar apenas as tarefas do dia
        selecionado.

        <ol>
          <li>
            <p>
              Na funÃ§Ã£o <code>getTasksByDate</code>, no arquivo
              <code>get-tasks-by-date.ts</code>, atribua para
              <code>const tasks</code> a lista retornada com
              <code>localStorage</code>
              usando a data (<code>date</code>) como chave.
            </p>
          </li>
          <li>
            <p>
              Na funÃ§Ã£o <code>setTasksByDate</code>, no arquivo
              <code>set-tasks-by-date.ts</code>, adicione a nova tarefa como um
              novo item do <code>Array</code> declarado como
              <code>tasks</code> e atribuÃ­do com o retorno da funÃ§Ã£o
              <code>getTasksByDate</code>.
            </p>
            <p>
              E entÃ£o armazene a lista de tarefas atualizada usando
              <code>localStorage</code> usando a data (<code>task.date</code>)
              como chave.
            </p>
          </li>
          <li>
            <p>
              No arquivo <code>index.html</code>, escolha tags HTML que
              represente
              <a
                href="https://seek.surge.sh/posts/semantica-dos-elementos-html/"
                target="_blank"
                >semanticamente</a
              >
              as informaÃ§Ãµes da interface <code>TaskEntity</code>.
            </p>

            <!-- prettier-ignore -->
            <pre>interface TaskItem {
  subject: string   // Assunto
  person: string    // Pessoa
  date: string      // Data
  terms: string     // Termos
}</pre>
            <p>
              Pense em uma tag para cada propriedade da interface (a propriedade
              <code>terms</code> nÃ£o Ã© obrigatÃ³ria) e pode ficar de fora caso
              queira. Adicione as tags escolhidas dentro do elemento
              <code>&lt;template&gt;</code>
              que jÃ¡ existe neste documento.
            </p>
          </li>
          <li>
            No arquivo <code>main.ts</code>, use o laÃ§o de repetiÃ§Ã£o
            <code>tasks.forEach()</code>
            para percorrer cada item da lista de tarefas, faÃ§a o clone um novo
            item do template, preencha o texto interno dos elementos (tags)
            escolhidos e em seguida, adicione o fragmento a lista de tarefas do
            documento. Use <code>template.content.cloneNode(true)</code> para
            clonar novos itens do template.
          </li>
        </ol>

        <h3>Dicas</h3>
        <p>
          Para esta missao, evite adicionar complexidades desnecessÃ¡rias, nÃ£o
          recomendo o uso de <kbd>ctrl+c</kbd> e <kbd>ctrl+v</kbd> pois o
          problema exige o acrescimo de poucas linhas de cÃ³digo, entenda o
          problema antes de codificar.
        </p>
        <p>
          Descubra quais os mÃ©todos da
          <a
            href="https://developer.mozilla.org/pt-BR/docs/Web/API/Storage"
            target="_blank"
          >
            Web Storage API
          </a>
          devem ser utilizados e entÃ£o onde devem ser adicionados.
        </p>
        <p>
          Entenda qual chave vocÃª pode usar no momento em que for armazenar os
          dados para que fique simples recuperÃ¡-los com a informaÃ§Ã£o disponÃ­vel
          na seleÃ§Ã£o do calendÃ¡rio.
        </p>

        <h3>Exemplo para referÃªncia</h3>
        <a
          href="https://developer.mozilla.org/pt-BR/docs/Web/API/Storage"
          target="_blank"
        >
          MDN - Web Storage API
        </a>

        <h3>Arquivos Ãºteis</h3>
        <pre>
ğŸ“¦
â”œâ”€â”€â”€ğŸ“‚ src
â”‚   â”œâ”€â”€ğŸ“œ main.ts
â”‚   â””â”€â”€ğŸ“œ style.scss
â”‚
â”œâ”€â”€â”€â”€â”€ğŸ“‚ usecases
â”‚     â”œâ”€â”€ğŸ“œ get-tasks.ts
â”‚     â””â”€â”€ğŸ“œ set-tasks.ts
â”‚
â”œâ”€ğŸ“œ index.html
</pre
        >

        <h3 id="important">âš ï¸ Importante âš ï¸</h3>
        <p>
          NÃ£o se esqueÃ§a de abrir o console do navegador durante o
          desenvolvimento!
        </p>
        <p>
          Para abri-lo, clique com o botÃ£o direito do mouse sobre a pÃ¡gina e vÃ¡
          em <strong>Inspecionar</strong> (Ãºltima opÃ§Ã£o), em seguida selecione a
          aba <strong>Console</strong>.
        </p>
      </section>

      <footer>
        <button autofocus onclick="document.querySelector('dialog').close()">
          ComeÃ§ar
        </button>
      </footer>
    </dialog>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
