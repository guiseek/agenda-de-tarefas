<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/typescript.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles/button.css" />
    <link rel="stylesheet" href="styles/dialog.css" />
    <link rel="stylesheet" href="styles/form.css" />
    <title>Vite + TS</title>
  </head>
  <body>
    <header>
      <h1>Calendário de tarefas</h1>
    </header>
    <main>
      <section>
        <type-calendar data-lang="pt-br"></type-calendar>

        <hr />

        <!-- Lista de tarefas -->

        <!-- Fim da lista de tarefas -->
      </section>
      <aside>
        <fieldset>
          <legend>Tarefa</legend>

          <form>
            <section>
              <label for="subject">Assunto</label>
              <input
                id="subject"
                type="text"
                autofocus
                name="subject"
                required
              />
              <output>Obrigatório</output>
            </section>
            <section>
              <label for="person">Designado</label>
              <input
                id="person"
                type="person"
                name="person"
                autocomplete="given-name"
                required
              />
              <output>Obrigatório</output>
            </section>
            <section>
              <label for="date">Data</label>
              <input id="date" type="date" name="date" required />
              <output>Obrigatório</output>
            </section>
            <section>
              <label>
                <input type="checkbox" name="terms" required />
                Li e concordo com os termos
              </label>
            </section>

            <button type="submit">Enviar</button>
          </form>
        </fieldset>
      </aside>
    </main>
    <footer>&copy; 2021</footer>

    <dialog>
      <header>
        <h2>Instruções</h2>
        <button onclick="document.querySelector('dialog').close('false')">
          x
        </button>
      </header>
      <section>
        <h3>Objetivo</h3>
        Salve os dados do formulário para que seja possível navegar entre os
        dias usando o calendário, permitindo listar apenas as tarefas do dia
        selecionado.

        <h3>Armazenar</h3>
        <ol>
          <li>
            Durante o evento de submissão do formulário, modifique a função
            <code>setTasks</code> para que seja possível armazenar os dados da
            tarefa submetidospelo formulário usando <code>localStorage</code>.
          </li>
        </ol>

        <h3>Recuperar</h3>
        <ol>
          <li>
            No HTML, crie um item para lista usando o elemento
            <code>&lt;template&gt;</code>.
          </li>
          <li>
            Durante o evento de seleção do calendário, encontre a função
            <code>getTasks</code>, e modifique seu interior para recuperar os
            dados usando <code>localStorage</code>.
          </li>
          <li>
            Quando estiver recebendo a lista de tarefas como um
            <code>Array</code>, percorra cada item e, usando
            <code>template.content.cloneNode(true)</code>, clone um novo item,
            modifique o texto interior e então adicione a lista no HTML.
          </li>
        </ol>

        <h3>Dicas</h3>
        <p>
          Para esta missao, evite adicionar complexidades desnecessárias, não
          recomendo o uso de <code>ctrl + c</code> e <code>ctrl + v</code> pois
          o problema exige o acrescimo de poucas linhas de código, entenda o
          problema antes de codificar.
        </p>
        <p>
          Descubra quais os métodos da
          <a
            href="https://developer.mozilla.org/pt-BR/docs/Web/API/Storage"
            target="_blank"
          >
            <code>Web Storage API</code>
          </a>
          devem ser utilizados e então onde devem ser adicionados.
        </p>
        <p>
          Entenda qual chave você pode usar no momento em que for armazenar os
          dados para que fique simples recuperá-los com a informação disponível
          na seleção do calendário.
        </p>
        <p>Arquivos que precisará trabalhar</p>
        <ul>
          <li>
            <code>index.html</code>
          </li>
          <li>
            <code>src/main.ts</code>
          </li>
          <li>
            <code>src/utilities/set-tasks.ts</code>
          </li>
          <li>
            <code>src/utilities/get-tasks.ts</code>
          </li>
        </ul>

        <h3>Exemplo para referência</h3>
        <a
          href="https://developer.mozilla.org/pt-BR/docs/Web/API/Storage"
          target="_blank"
        >
          MDN - Web Storage API
        </a>
      </section>

      <footer>
        <button autofocus onclick="document.querySelector('dialog').close()">
          Começar
        </button>
      </footer>
    </dialog>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
